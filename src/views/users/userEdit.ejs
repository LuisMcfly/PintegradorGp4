<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head') %>
<head>
  <link rel="stylesheet" href="/css/userProfile.css" />
  <form action="/users/edit" method="POST" id="saveEditForm"></form>
</head>

<body>
  <%- include('../partials/header') %>
  <main class="form-container user-edit-grid">
    
    <section class="form-section user-image">
      <label for="profileImage">
        <div class="image-edit-area">
          <img src="<%= userInfo.image %>" class="darken"/>
        </div> 
        <div class="add-image-icon">
          <i class="fa-regular fa-file-image"></i>
          <i class="fa-solid fa-circle-plus"></i>
        </div>
      </label>
      <input type="file" name="profileImage" id="profileImage">
      
      <h1><%= userInfo.fullName %></h1>
      <h3><%= userInfo.email %></h3>
    </section>

    <section class="form-section">
      <div class="form-field">
        <label for="fullName"><p>Nombre</p></label>
        <input type="text" name="fullName" id="fullName" class="text-input" 
          form="editSaveForm" placeholder="<%= userInfo ? userInfo.fullName : '' %>">
        <% if(locals.errors && errors.fullName) {%> 
          <div class="error-message">
            <p> <%= errors.fullName.msg %> </p>
          </div>
        <% }; %>
      </div>

      <div class="form-field">
        <label for="email"><p>Correo electrónico</p></label>
        <input type="email" name="email" id="email" class="text-input"
          form="editSaveForm" placeholder="<%= userInfo ? userInfo.email : '' %>">
        <% if(locals.errors && errors.email) {%> 
          <div class="error-message">
            <p> <%= errors.email.msg %> </p>
          </div>
        <% }; %>
      </div>

      <div class="form-field">
        <label for="phone"><p>Teléfono</p></label>
        <input type="text" name="phone" id="phone" class="text-input" 
          form="editSaveForm" placeholder="<%= userInfo ? userInfo.phone : '' %>">
        <% if(locals.errors && errors.phone) {%> 
          <div class="error-message paragraph">
            <p> <%= errors.phone.msg %> </p>
          </div>
        <% }; %>
      </div>

      <div class="form-field">
        <label for="address"><p>Dirección</p></label>
        <input type="text" name="address" id="address" class="text-input" 
          form="editSaveForm" placeholder="<%= userInfo ? userInfo.address : '' %>">
        <% if(locals.errors && errors.address) {%> 
          <div class="error-message paragraph">
            <p> <%= errors.address.msg %> </p>
          </div>
        <% }; %>
      </div>

      <div class="form-field">
        <label><p>Género</p></label>
        <div class="check-container">
          <input type="radio" name="gender" id="genderOpt1" 
          class="with-font" form="saveEditForm" value="Masculino">
          <label for="genderOpt1" class="icon paragraph"> Masculino </label>

          <input type="radio" name="gender" id="genderOpt2" 
          class="with-font" form="saveEditForm" value="Femenino">
          <label for="genderOpt2" class="icon paragraph"> Femenino </label>

          <input type="radio" name="gender" id="genderOpt3" 
          class="with-font" form="saveEditForm" value="Otro">
          <label for="genderOpt3" class="icon paragraph"> Otro </label>
        </div>
      </div>

      <div class="form-buttons">
        <button type="submit" form="editSaveForm" class="btn main-button">Guardar</button>
        <button type="reset" form="editSaveForm" class="btn">Cancelar</button>
      </div>
    </section>
  </main>
  <%- include('../partials/footer') %>
</body>
</html>